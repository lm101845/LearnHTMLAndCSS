---
title: 读书笔记：CSS设计指南(第3版)
date: 2020-11-13 13:50:00
tags: 读书笔记
categories: CSS
---

(注1：张鑫旭的《CSS世界》暂缓，先读读这本书吧)

(注2：这本书看的非常的轻松，但是也不代表学不到东西。就当时系统的再复习一遍CSS吧，总感觉自己的CSS像悬在天上一样，不扎实。)

(注3：这本书感觉有点过于简单了，我就随便看看吧，主要还是要多敲代码。)

(注4：这本书不值得去看了，我还是去一些学习CSS的网站上找一些页面来写吧，关键还是要去写，写多了，也就知道怎么去布局了。)

# 第1章：HTML标记与文档结构

这是一本讲CSS的书，所以，第1章要先讲讲HTML（**Hypertext Markup Language，超文本标记语言**）。

之所以从HTML讲起，是因为Css的用途就是为HTML标记添加样式。所以，你首先得知道怎么编写和构造HTML标记，才能让CSS更方便地为它添加样式。**每个网页在呱呱坠地时都只包含HTML标记**，因为用HTML来标记内容是做任何网页的头一件事。所谓内容，就是你想要传达给读者的那些东西，比如文字、图片、音频和视频。

用HTML标记内容的目的是为了赋予网页语义（semantic），换句话说，就是要给你的网页内容赋予某些用户代理（user agent）能够理解的含义。我们平常用的浏览器给视障用户朗读网页的屏幕阅读器，以及搜索引擎放出的Web爬虫都是用户代理，它们需要显示、朗读和分析网页。HTML规定了一组标签，用来给内容打上不同的标记。每个标签都是对它所包含内容的一种描述。最常用的HTML标签描述的是标题、段落、链接和图片。**目前，HTML一共有114个标签**，但按照80/20原则，使用其中25个左右的标签就可以满足80%的标记需要。要想知道和了解HTML标签，可以看看本书网站：http://wwwstylinwithess.com。

在给内容都打上标记之后，就可以使用CSs来给标签添加样式了。添加样式的根据有**标签名**、**标签属性**（如id和class），以及**标签与其他标签在标记中的相对位置关系**，等等。HTML标签也会构成一个层次化的文档，从而可以通过CSS来设置网页的布局，为每个元素应用你想要的样式。

HTML最新的版本HTML5，又新规定了一批结构化标签，用于对相关内容的标签进行分组，从而更好地规范网页的整体结构。这些新标签包括`<header>`、`<nav>`（即navigation，导航）、`<article>`、`<section>`、`<aside>`和`<footer>`，比如，对于一组可以让用户导航到网站中其他页面的链接，就可以使用`<nav>`标签把它们独立地标记出来。而在`<article>`里，则可以组织起来一篇既包含多个标题，又包含文本段落的博客文章。

在HTML5标准出现之前，创建页面的结构只能使用一些几乎没有什么语义的标签，比如`<div>`和`<span>`）。而现在，我们有了一套专门的结构化标签。

为了进一步说明上述思想，接下来我们就看一看到底怎么给内容加标记，并展示怎么用HTML创建出一种标签层次，以便应用CSS和JavaScript。

## HTML标记基础

对于每个包含内容的元素（比如标题、段落和图片），根据它所包含的内容是不是文本，有两种不同的方式给它们加标记，一种是使用闭合标签，另一种是使用非闭合标签。

### 文本用闭合标签

闭合标签的基本格式如下：

~~~css
<标签名>文本内容</标签名>
~~~

可以给这个标签添加一些属性，比如：

~~~css
<标签名 属性_1="属性值" 属性_2="属性值">文本内容</标签名>
~~~

标题、段落等文本元素都要求闭合标签，也就是要有一个开标签和一个闭标签，比如：

~~~css
<h1>words by Dogsworth</h1>
<p>I wandered lonely as a dog.</p>
~~~

可见，每个标签都由一对包含标签名的尖括号组成。标签名通常是一个（表示内容类型的）英文单词的简写形式或者其中的一个字母。闭标签与开标签的不同之处是标签名前面多一个斜杠。

位于开标签和闭标签之间的，就是将来会显示在浏览器中的内容；标签本身不会显示。

开标签和闭标签明确地标识出了标题和段落的起始位置。注意，前面的标题标签名中有一个数字1，那是因为HTML有6级标题，`<h1>`表示最高级别的标题。

### 引用内容用自闭合标签

~~~css
<标签名 属性_1="属性值" 属性_n="属性值"/>
~~~

非文本内容是通过自闭合标签显示的。闭合标签与自闭合标签的区别在于，闭合标签包含的是会显示的实际内容，而自闭合标签只是给浏览器提供一一个对要显示内容的引用。浏览器会在HTML页面加载的时候，额外向服务器发送请求，以取得自闭合标签引用的内容。

下面就是使用自闭合标签标记的一-张图片。

~~~css
<img src="images/cisco.jpg" alt="My dog Cisco">
~~~

![](读书笔记：CSS设计指南(第3版)/01.png)

### 属性

属性负责为浏览器提供有关标签的额外信息。比如说，前面例子中的`<img>`标签有两个属性。一个属性是src（source，来源），属性值为`cisco.jpg`。这个属性定义了图片的来源是一一个名为`cisco.jpg`的文件。另一个属性是alt（alternative，替代内容），定义的是在图片因故未能加载成功时在屏幕上显示的文本。

![](读书笔记：CSS设计指南(第3版)/02.png)

每个HTML标签都可以添加属性。在稍后的例子中我们会看到，class和id等属性，几乎可以适用于任何标签。而另一-些属性，比如src，则只适用于类似`<img>`这样的引用源文件的标签。

![](读书笔记：CSS设计指南(第3版)/03.png)

![](读书笔记：CSS设计指南(第3版)/04.png)

### 标题与段落

到现在为止，我们用得最多的还是标题和段落标签。一般来说，网页都会以一个`<h1>`标签开头，其中的文本用于告诉读者这个网页是干什么的。然后用`<h2>`标记下一级内容，或许是一个副标题，然后才是`<h3>`，依此类推。

`<h1>`不仅是最大最突出的标题（除非你用CSS缩小它的字号），搜索引擎也会将其视为仅次于`<title>`标签的另一个搜索关键词的来源。

段落用于标记主要的文本内容，是所有文本元素中出场率最高的一个。简言之，只要有不适合放在其他文本标签中的文本，都可以把它放一个段落里面。

接下来，我们会谈一谈**文档流**（document flow）、**行内元素**和**块级元素**的概念，介绍一下每个元素在页面中怎么形成一个方盒子（box），HTML中的这些基本概念，对于使用CSS快速有效地为文档添加样式，使其变成你期望的布局和外观具有重大意义。

### 复合元素

HTML不仅规定了标题、图片和段落等基本的内容标记，还规定了用于创建列表、表格和表单等复杂用户界面组件的标记，这些就是所谓的复合元素，即它们是由多个标签共同构成的。

比如，`<li>`是一个列表项，它只在`<ol>`（ordered list，有序列表）和`<ul>`（unordered list，无序列表）这两种列表标签中才有效，在`<dl>`（definition list，定义列表）中则无效。下面是一个包含三个列表项`<li>`的有序列表`<ol>`的例子：

~~~css
<ol>
	<li>Save HTML file</li>
	<li>Move file to Web server via FTP</li>
	<li>Preview in browser</li>
</ol>	
~~~

![](读书笔记：CSS设计指南(第3版)/05.png)

这个例子告诉了我们两个基本知识点。**首先**，某些标签（如这里的`<o1>`）要求其他标签（即这里的`<li>`）与之共同出现。**其次**，我们说这里的列表项`<1i>`被嵌套”在有序列表`<ol>`中，因为有序列表的开标签位于所有列表项之前，闭标签位于所有列表项之后。标签嵌套是我们必须要理解的一个至关重要的概念。

### 嵌套标签

在上面的例子中，基于`<li>`标签与`<ol>`标签的嵌套关系，我们还可以说`<li>`标签是`<ol>`标签的子标签（或子元素），或者说`<ol>`标签是`<li>`标签的父标签（父元素）。

下面是使用`<em>`（emphasis，强调）标签来强调段落中一个单词的例子。遗憾的是，其中的`<em>`子标签嵌套在`<p>`标签里的方式是错误的。

~~~css
<p>That car is <em>fast</p>.</em>
~~~

正确的写法应该是下面这样的。

~~~css
<p>That car is <em>fast</em>.</p>
~~~

请记住，要在一个标签里嵌套另一个标签（也就是前者的开标签写在后者的开标签之前），必须要先关闭后一个标签再关闭前面那个标签。上面第一个例子搞错了，第二个例子没有问题。

HTML文档的结构正是通过类似这样的标签嵌套，以及就此建立起来标签间的“父--子”关系形成的。下面，我们就通过分析一个HTML文档的结构，来实际地演练一番。

## HTML文档剖析

有几个HTML元素是所有HTML文档（也就是网页）中都必须包含的。这些元素为内容提供了框架，有了这个框架才能正确显示内容。可以把这些必要的元素想象成一个模板页面里必须得有的元素。很多网页编写工具，比如Adobe Dreamweaver，会在每次创建新HTML页面时自动给你生成一个包含这些元素的模板页面。

![](读书笔记：CSS设计指南(第3版)/06.png)

### HTML模版

今天，按照HTML5语法编写的最简单的HTML页面的模板可以写成这样：

![](读书笔记：CSS设计指南(第3版)/07.png)

模板的第一行代码是一种新语法，或者说是一种简化的DOCTYPE，这一行就是为了声明：“以下是一个HTML文档。”注意，这个标签不用关闭。

然后是`<html>`标签，也就是所谓的根级标签，因为页面中所有的其他标签都嵌套在这个标签内部，而且它的闭标签也是整个页面中的最后一个闭标签。`<html>`标签只有两个直接的子标签：`<head>`和`<body>`。

![](读书笔记：CSS设计指南(第3版)/08.png)

帮助浏览器理解页面的信息都包含在head>标签中。在这个最简单的例子里，`<head>`标签里只包含`<meta>`和`<title>`两个标签。其中，`<meta>`标签有一个charset属性，它是在告诉浏览器这个页面使用的是UTF-8编码。而`<title>`标签中的文本会在页面显示时，作为整个页面的标题出现在浏览器窗口顶部的标题栏中。上面模板中页面的标题是"An HTML Template"。

![](读书笔记：CSS设计指南(第3版)/09.png)

而`<body>`标签则包含着标记所有内容的HTML元素。接下来，我们先把原来的注释替换成另外两个标签，然后再看看页面在浏览器中显示的效果。

在上面模板的`<body>`标签中，我们再添加两个标签：

![](读书笔记：CSS设计指南(第3版)/10.png)

图1-2展示了当前页面在浏览器中显示的效果。

![](读书笔记：CSS设计指南(第3版)/11.png)

浏览器把包含内容的元素在页面中自上而下地一一排列，起点是页面的左上角。仔细看一看，会发现页面中标题和段落文本的字号不一样，但字体都是Times Roman，而且标题与段落之间还有一定的间距。很显然，浏览器已经为页面应用了一些基本的样式。**这些初始（默认）的样式，来自浏览器内置的一个Css样式表，它只会为每个HTML元素添加一些最基本，当然也谈不上美观的样式**。

接下来再给模板添加两个比较常用的HTML元素，一个链接，一个图片。

![](读书笔记：CSS设计指南(第3版)/12.png)

链接是使用`<a>`标签创建的，该标签有一个必需的属性href（hyperlink reference，超链接引用），其中包含着链接指向的页面的URL。

前面我们也提到过`<img>`标签，而现在你终于看到它的效果了。在这个标签里，同样是给出图片所在位置的URL，要使用src（source，来源）而不是href属性。

有一点你可能注意到了：虽然标题和段落是上下堆叠在一起的，但链接和图片却是并排显示的。为什么会这样呢？因为**标题和段落是块级元素，而链接和图片是行内元素**。

### 块级元素和行内元素

图1-3展示了所谓“文档流”的效果，也就是HTML元素会按照它们各自在标记中出现的先后顺序，依次从页面上方“流向”下方。浏览器的样式表之所以提供这种流动式效果，就是为了让那些简单但却正确标记了HTML的内容，能够以朴素但却可用的方式显示出来。Css的妙处就在于把这种实用主义的默认显示效果，转换成既有吸引力又直观的页面设计。

**几乎所有HTML元素的display属性值要么为block，要么为inline，最明显的一个例外是table元素，它有自己特殊的display属性值。**

块级元素（比如标题和段落）会相互堆叠在一起沿页面向下排列，每个元素分别占一行。而行内元素（比如链接和图片）则会相互并列，只有在空间不足以并列的情况下才会折到下一行显示。

无论你想了解哪个HTML元素，**第一个要问的问题都应该是：它是块级元素，还是行内元素？**知道了这一点之后，就可以在编写标记的时候，**预想到某个元素在初始状态下是如何定位的**，这样才能进一步想好将来怎么用CSS重新定位它。

**使用块级元素和行内元素构建页面**

这里是一个完全由标题和段落组成的页面。为了保证屏幕截图和代码清晰，我故意把段落都弄得非常短。页面的标记如下。

![](读书笔记：CSS设计指南(第3版)/13.png)

在以上代码和屏幕截图中，可以看到三种级别的标题。浏览器为每一级标题分别应用了不同的字号，从而让页面内容的层次显得非常分明。由于标题和段落都是块级元素，所以每个元素各占一行。

还有，页面四周都添加了一定的边距，所以文本才不会碰到浏览器窗口。而且，段落中的行与行之间也有距离。好了，边距的话题回头我们再仔细聊，还是先给页面添几张图片吧。如图1-5所示，当然你已经知道了，图片是行内元素。

![](读书笔记：CSS设计指南(第3版)/14.png)

![](读书笔记：CSS设计指南(第3版)/15.png)

以下是图1-5中展示的那部分页面对应的代码，其中包含两张图片。图片是行内元素，所以两把吉它会并排显示。

![](读书笔记：CSS设计指南(第3版)/16.png)

现在，为了进一步加深对块级元素和行内元素的理解，我们在这个页面上搞一次小试验。这次试验要用到我最喜欢的一个开发工具，那就是**Web Developer扩展**。它是Firefox的一个扩展，安装之后它会生成一个菜单，里面包括很多查看HTML，CSS和JavaScript的工具。

![](读书笔记：CSS设计指南(第3版)/17.png)

在图1-6中，可以看到浏览器窗口顶部偏下的Web Developer工具条。这个工具条有很多功能，其中一个就是能让你更清晰地确定每个元素的位置，以及元素之间的嵌套关系。如图所示，我选择了Outline（轮廓）菜单中的Outline Block Level Elements显示块级元素的轮廓）命令，这个命令可以显示页面中块级元素方盒子的轮廓。

![](读书笔记：CSS设计指南(第3版)/18.png)

显示块级元素的轮廓之后，通过图1-7就可以发现元素盒子比它们包含的文本要大一些。每个盒子的高度比内容稍微高一点，而宽度跟浏览器窗口一样宽！

**块级元素盒子会扩展到与父元素同宽**

在我们这个页面中，所有块级元素的父元素都是body，而它的宽度默认与浏览器窗口一样宽（当然有少量边距），因此，所有块级元素就与浏览器窗口一样宽了。说到这，相信你就能理解为什么块级元素始终会占一行了。对了，就是因为它们始终会保持与浏览器窗口同宽。这样一来，一个块级元素旁边也就没有空间容纳另一个块级元素了。

通过Web Developer工具条不能像显示块级元素轮廓那样，同时显示所有行内元素的轮廓。不过，通过Outline菜单中的Outline Custom Elements（显示自定义元素的轮廓）命令可以显示这些元素的轮廓。行内元素盒子的行为与块级元素盒子的行为正好相反。

**行内元素盒子会“收缩包裹”其内容，并且会尽可能包紧**

说到这，你就可以理解为什么几个行内元素会并排显示在一行，而每个块级元素都会另起一行了。

### 嵌套的元素

现在，该看一看在标记中嵌套的HTML元素到了屏幕上是什么效果啦。前面例子中的所有元素都有一个共同的父元素——body。因此，Web Developer通常不显示它。但通过在Outline菜单中选择Outline Custom Elements命令，可以自定义显示body，如图1-8所示。

![](读书笔记：CSS设计指南(第3版)/19.png)

如图1-9所示，父元素body的盒子（最外面的轮廓），直接嵌套（也就是包裹）着所有子元素盒子（内部的轮廓），其中，块级子元素扩展到与body元素同宽，后者默认与浏览器窗口同宽（但有一点外边距）。

**在标记中嵌套的是HTML标签，而在屏幕上嵌套的则是一个个的盒子**

![](读书笔记：CSS设计指南(第3版)/20.png)

在一个包含很多元素的页面中，盒子套盒子会越套越深，此时合理的HTML布局有助于通过标记看清页面结构，从而保证标签间正确的嵌套关系。**我们推荐HTML标签每个层次相对于上一层次都缩进4个空格**，如下面代码中的点所示。

![](读书笔记：CSS设计指南(第3版)/21.png)

**两个在标记中嵌套的例子**

我们再来看一个嵌套的例子，这一次使用blockquote元素。顾名思义，blockgoute元素包含引用内容，而且在页面上看起来是独立的元素。请注意代码中使用的表示弯引号的HTML实例。

![](读书笔记：CSS设计指南(第3版)/22.png)

![](读书笔记：CSS设计指南(第3版)/23.png)

显然，`<blockquote>`标签也是一个块级元素（它名字里就有block），因为它的目的就是在页面中独立显示一块内容，所以作为块级元素非常合适。

嵌套在blockquote元素中位于引用文本之后的是cite元素，它是一个行内元素。因为文本结束后还有空间，所以它就显示在了段落最后一行上。从图1-10中也可以看到，`<cite>`标签的内容默认是斜体。

同样是在这个例子中，还可以看到两个HTML实体，`&ldquo;`和`&rdquo;`，分别用于生成能够正确打印出来的左、右双引号。使用这两个引号的实体，而不是按键盘上的`Shift-'`（Shift-引号键），能让页面显示更加专业。

第二个嵌套的例子如下，是一个块级元素包含三个行内元素。

![](读书笔记：CSS设计指南(第3版)/24.png)

图1-12与图1-11一样，只不过显示了元素盒子的轮廓。

![](读书笔记：CSS设计指南(第3版)/25.png)

这个例子除了能让你感到情况紧急之外，还能让你有如下收获。

* 文本被标记为段落，而其中包含三个行内元素。
* `<strong>`标签表示重要，默认以粗体显示。
* `<em>`标签表示强调，默认以斜体显示。
* `<abbr>`标签表示简写，在Firefox中默认会加上点下划线。

## 文档对象模型

在开始学习CSS之前，关于HTML我们要介绍的最后一个知识点，就是HTML结构所对应的文档对象模型（以下简称"DOM"），DOM是从浏览器的视角来观察页面中的元素以及每个元素的属性，由此得出这些元素的一个家族树。通过DOM，可以确定元素之间的相互关系。在CSS中引用DOM中特定的位置，就可以选中相应的HTML元素，并修改其样式属性。

我们就通过下面这个例子来理解DOM吧。

![](读书笔记：CSS设计指南(第3版)/26.png)

上面的代码示例和图1-13展示了一个典型的页面结构，即结构化的标签（即`<section>`包含着几个子内容标签（这里的`<h1>`和`<p>`），代码中用缩进表示元素间的层次关系。这种层次关系也可以用垂直的、类似家族树的结构图表示。

图1-14展示了标明元素轮廓的HTML元素。

![](读书笔记：CSS设计指南(第3版)/27.png)

对于这个例子中的DOM层次，我们可以作如下表述。

![](读书笔记：CSS设计指南(第3版)/28.png)

在本书后面几章里，我们会经常使用子元素、父元素、同胞元素、祖先元素和后代元素这些概念。所以，请读者务必先对HTML创建的DOM的层次有一个清晰的认识，搞明白这些概念的含义，以及它们之间的嵌套关系。

CSS操作DOM的过程是先选择一个或一组元素，然后再修改这些元素的属性。通过Css修改了元素后，比如修改了宽度或者在标记里插入一个伪元素，这些变化会立即在DOM中发生，并体现在页面上。

简言之，就是通过HTML标记来构建DOM，然后在页面初次加载和用户与页面交互时，使用CSS来修改DOM。

## 小结

本章讲解了HTML标签怎么为内容提供结构，以及每个元素会在屏幕上生成什么样的盒子。演示了块级元素和行内元素的区别，以及在元素互相嵌套的情况下，它们之间会存在的一种层次关系。你知道了标记中嵌套的HTML元素会生成屏幕上嵌套的盒子。最后，我们学习了DOM，它是浏览器中文档的模型，而CSs可以修改DOM中元素的样式属性，从而修改页面本身的布局和外观。本章学习的这些基础知识，对于使用CSS为HTML添加样式至关重要。第2章，我们会从css的规则和机制入手，讲一讲它是怎么对HTML发生作用的。

# 第2章：CSS工作原理

第1章我们了解了怎么通过HTML来创建文档结构。本章，我们来说一说Css规则怎么为HTML添加样式，并解释层叠的工作机制——当元素的同一个样式属性有多种样式值的时候，CSS就要靠层叠机制来决定最终应用哪种样式。

每个HTML元素都有一组样式属性，可以通过CSS来设定。这些属性涉及元素在屏幕上显示时的不同方面，比如在屏幕上位置、边框的宽度，文本内容的字体、字号和颜色，等等。**CSS就是一种先选择HTML元素，然后设定选中元素CSS属性的机制**。CSS选择符和要应用的样式构成了一条CSS规则。

好，我们就先聊一聊CSS规则，以及怎么把CSS规则应用到HTML元素。请读者跟着我做几个例子，这些例子都要用到下面这个简单的HTML5模板。这个模板的代码也可以登录http://www.stylinwithess.com下载

![](读书笔记：CSS设计指南(第3版)/29.png)

代码里包含一个HTML的`<style>`标签。通过这个标签可以把CSS样式直接写在文档中（用专业说法，是把CSS样式嵌入到文档中），浏览器会负责把`<style>`标签中的CSS样式应用给`<body>`标签中的HTML元素（甚至包括`<html>`标签）。

## 剖析CSS规则

规则实际上就是一条完整的CSS指令。规则声明了要修改的元素和要应用给该元素的样式。

下面就是一条CSS规则，它可以把段落的文本设置为红色。

~~~css
p{color:red}
~~~

把它应用给以下HTML标记

~~~html
<p>This text is very important!</p>
~~~

这个段落的文本就会显示为红色，如图2-1所示。

![](读书笔记：CSS设计指南(第3版)/30.png)

![](读书笔记：CSS设计指南(第3版)/31.png)

![](读书笔记：CSS设计指南(第3版)/32.png)

![](读书笔记：CSS设计指南(第3版)/33.png)

有一点很重要，那就是CSS样式是通过<style）标签嵌入到页面里的。**当浏览器遇到开标签`<style>`时，就会由解释HTML代码切换为解释CSS代码。等遇到闭标签`</style>`时，它会再切换回解释HTML代码**。

![](读书笔记：CSS设计指南(第3版)/34.png)

本章后面的例子都将使用这个模板。读者可以把这个模板写到一个文本文件里，然后保存为扩展名是`.html`的文件。之后，只要像前面那样，把每个例子的CSS和 HTML代码复制粘贴到这个模板中就行了。粘贴后保存，再在浏览器中打开，就可以看到效果。

### CSS规则命名惯例

CSS规则由选择符和声明两部分组成，其中选择符用于指出规则所要选择的元素图2-2的示例选择符是要选择段落），声明则又由两部分组成：属性和值。属性指出要影响元素哪方面的样式（图2-2的示例属性影响的是文本颜色），值就是属性的一个新状态（图2-2中是红色）。

![](读书笔记：CSS设计指南(第3版)/35.png)

总体来看，选择符后面是左花括号，然后是以冒号分隔的属性和值，二者构成声明。每个声明以分号结尾，最后是结束规则的右花括号。

建议读者仔细研究一下图2-2，搞明白这张图，前面所有这些术语就都明白了。后面我们经常会提到这些术语。

对这个基本的结构，**有三种方法可以进行扩展**。

![](读书笔记：CSS设计指南(第3版)/36.png)

这样，一条规则就可以把段落文本设置成红色，12像素大，粗体。

注意三个声明末尾都有一个分号，以示分隔。其中，最后一个位于右花括号之前的分号是可选的，但我始终都会加上它。因为将来再添加声明时就不用再记着加了。

有读者可能会好奇地想，这些属性（比如font-size和color）还有其他什么值呢？比如，指定颜色值的时候是不是可以不用颜色名，而用RGB（red，green，blue）格式？当然，可以。不过，我想还是容我把选择符的工作机制讲完吧。本章后面，我们再详细讲规则的声明部分。

![](读书笔记：CSS设计指南(第3版)/37.png)

千万注意每个选择符之间要用逗号分隔（最后一个后面不用加）。至于选择符之间的空格，随意，可加可不加，但加了好像看得更清楚。

![](读书笔记：CSS设计指南(第3版)/38.png)

以上这三种规则结构，是今后我们要写的更复杂的选择组合的基础。更复杂的选择组合是啥意思？比如说，你想写一条CsS规则，希望给位于附注栏（aside元素）中的一个段落添加样式，让这个段落看起来与正文（比如article元素）中的段落不一样。但我们到目前为止看到的规则，会影响整个文档中同种类型的所有元素。下面我们就来讲一讲怎么随心所欲地选择在标记中位于特殊区域的元素。

所有用于选择特定元素的选择符又分三种。

* 上下文选择符。基于祖先或同胞元素选择一个元素。
* ID和类选择符。基于id和class属性的值（你自己设定）选择元素。
* 属性选择符。基于属性的有无和特征选择元素。

## 上下文选择符

下面，我们就来解决上一节提到的那个问题：你想分别给article和aside中的段落文本，分别设置不同的字号。像这种“基于位置”变换某个标签样式的问题，可以用上下文选择符来解决，本节我们就来讲一讲这种选择符。

![](读书笔记：CSS设计指南(第3版)/39.png)

可以通过下面这段代码来更深入地理解上下文选择符的含义。

![](读书笔记：CSS设计指南(第3版)/40.png)

以上标记创建的DOM（文档对象模型）结构如图2-4所示。

![](读书笔记：CSS设计指南(第3版)/41.png)

在接下来我向大家展示那些瞄准标记中特定元素的Css规则时，建议大家参照图2-4的DOM结构图。
我们就从最简单的一个标签的选择符开始。

~~~css
em{color:green;}
~~~

这条规则选择页面中所有em元素，因此三个em元素中的文本都会变成绿色，如图2-6所示（图中为浅灰色）。

![](读书笔记：CSS设计指南(第3版)/42.png)

现在，前面的p元素是上下文，后面的em元素是要选择的目标。这里选择符的意思用白话说，就是：“选择以p元素为祖先的所有em元素。”好好，看看图2-4中的结构图，哪些标签会被这条规则选中？

没错，你说得对，会选中两个段落中的em，而不会选中标题中的em。因为标题中的em并没有作为祖先的段落，因此这条规则对它不适用（参见图2-7）

![](读书笔记：CSS设计指南(第3版)/43.png)

![](读书笔记：CSS设计指南(第3版)/44.png)

这次，我们使用了article作为上下文，因此该元素中标题及段落下的em都变成了绿色（图中是浅灰色），而位于aside中的em未受影响，因为它没有article这么个祖先元素。注意，至于article与em之间还隔着一个p元素（或h1元素），都不影响结果。只要em在整个层次结构中有一个叫article的祖先元素就可以了。

要是我只想选择标题中的em呢？那就需要更加具体的上下文。

~~~css
article h1 em {color:green;}
~~~

这里选择符的意思就是说：“选中的em必须有一个祖先是h1，后者进而还要有一个祖先是article."

如图2-9所示，为了选择某个非常具体的标签，有时候不得不串起一串上下文选择符。

![](读书笔记：CSS设计指南(第3版)/45.png)

## 特殊的上下文选择器

刚才，我们学习的上下文选择符是以某个祖先标签作为上下文。只要有标签在它的层次结构“上游”存在这么一个祖先，那么就会选中该标签。无论从该标签到作为祖先的上下文之间隔着多少层次都没有关系。不过，有时候我们可能还会需要比“某些祖先”更加具体的上下文。比如说吧，要是你想根据父元素或者同胞元素的标签名来选择元素怎么办呢？

下面我们再用另一段标记来演示几种特殊的上下文选择符。

~~~css
<section>
	<h2>An H2 Heading</h2>
	<p>This is paragraph 1</p>
	<p>Paragraph 2 has <a href="#">a link</a> in it.</p>
	<a href="#">Link</a>
</section>
~~~

### 子选择符>

~~~css
标签1 > 标签2
~~~

标签2必须是标签1的子元素，或者反过来说，标签1必须是标签2的父元素。与常规的上下文选择符不同，这个选择符中的标签1不能是标签2的父元素之外的其他祖先元素。

![](读书笔记：CSS设计指南(第3版)/46.png)

### 紧邻同胞选择符+

~~~css
标签1+标签2
~~~

标签2必须紧跟在其同胞标签1的后面。

![](读书笔记：CSS设计指南(第3版)/47.png)

### 一般同胞选择符~

~~~css
标签1~标签2
~~~

标签2必须跟（不一定紧跟）在其同胞标签1后面。

![](读书笔记：CSS设计指南(第3版)/48.png)

### 通用选择符*

通用选择符*（常被称为星号选择符）是一个通配符，它匹配任何元素，因此下面这条规则

![](读书笔记：CSS设计指南(第3版)/49.png)

![](读书笔记：CSS设计指南(第3版)/50.png)

![](读书笔记：CSS设计指南(第3版)/51.png)